--- CMakeLists.txt	2019-01-13 19:55:24.920548897 +0100
+++ CMakeLists.txt	2019-04-13 23:36:50.517127296 +0200
@@ -129,12 +129,20 @@
     add_subdirectory(tests)
 endif()
 
+set_target_properties(QEx PROPERTIES PUBLIC_HEADER "interfaces/c/qex.h")
+set_target_properties(QExStatic PROPERTIES PUBLIC_HEADER "interfaces/c/qex.h")
 
-find_package(Doxygen)
-if (DOXYGEN_FOUND)
-    configure_file(${CMAKE_CURRENT_SOURCE_DIR}/Doxyfile.in ${CMAKE_CURRENT_BINARY_DIR}/doc/Doxyfile @ONLY)
-    add_custom_target(qex_doc
-        ${DOXYGEN_EXECUTABLE} ${CMAKE_CURRENT_BINARY_DIR}/doc/Doxyfile
-        WORKING_DIRECTORY ${CMAKE_CURRENT_BINARY_DIR}/doc
-        COMMENT "Generating Doxygen documentation" VERBATIM)
-endif()
+install(TARGETS QEx QExStatic
+        LIBRARY DESTINATION lib
+        ARCHIVE DESTINATION lib
+        PUBLIC_HEADER DESTINATION include
+)
+
+#find_package(Doxygen)
+#if (DOXYGEN_FOUND)
+#    configure_file(${CMAKE_CURRENT_SOURCE_DIR}/Doxyfile.in ${CMAKE_CURRENT_BINARY_DIR}/doc/Doxyfile @ONLY)
+#    add_custom_target(qex_doc
+#        ${DOXYGEN_EXECUTABLE} ${CMAKE_CURRENT_BINARY_DIR}/doc/Doxyfile
+#        WORKING_DIRECTORY ${CMAKE_CURRENT_BINARY_DIR}/doc
+#        COMMENT "Generating Doxygen documentation" VERBATIM)
+#endif()
--- src/predicates.c	2019-04-14 22:27:37.975746000 +0200
+++ src/predicates.c	2019-04-14 22:27:50.059746000 +0200
@@ -1227,7 +1227,7 @@
 /*                                                                           */
 /*****************************************************************************/
 
-int compress(elen, e, h)                         /* e and h may be the same. */
+int compress1(elen, e, h)                         /* e and h may be the same. */
 int elen;
 REAL *e;
 REAL *h;


